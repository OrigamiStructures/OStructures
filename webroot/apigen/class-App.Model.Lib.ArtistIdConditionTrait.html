<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Trait App\Model\Lib\ArtistIdConditionTrait | StudioManagerScratch</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?49f43d3208c5d7e33fa16d36107a345bf11cc00d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">StudioManagerScratch</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
						<a href="namespace-App.Model.Lib.html" title="Summary of App\Model\Lib"><span>Namespace</span></a>
					</li>
					<li class="active">
<span>Class</span>					</li>

					<li class="divider-vertical"></li>


						<li>
							<a href="annotation-group-todo.html" title="List of elements with todo annotation">
								<span>Todo</span>
							</a>
						</li>


				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li class="active">
						<a href="namespace-App.html">
							App<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Cache.html">
							Cache						</a>
							</li>
					<li>
						<a href="namespace-App.Console.html">
							Console						</a>
							</li>
					<li>
						<a href="namespace-App.Controller.html">
							Controller<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Controller.Component.html">
							Component						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Database.html">
							Database<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Database.Type.html">
							Type						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Exception.html">
							Exception						</a>
							</li>
					<li>
						<a href="namespace-App.Form.html">
							Form						</a>
							</li>
					<li>
						<a href="namespace-App.Lib.html">
							Lib<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Lib.Traits.html">
							Traits						</a>
							</li>
								</ul></li>
					<li class="active">
						<a href="namespace-App.Model.html">
							Model<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Model.Behavior.html">
							Behavior						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Entity.html">
							Entity<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Model.Entity.EditionSubs.html">
							EditionSubs						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Entity.Traits.html">
							Traits						</a>
							</li>
								</ul></li>
					<li class="active">
						<a href="namespace-App.Model.Lib.html">
							Lib						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Table.html">
							Table						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Shell.html">
							Shell						</a>
							</li>
					<li>
						<a href="namespace-App.SiteMetrics.html">
							SiteMetrics						</a>
							</li>
					<li>
						<a href="namespace-App.View.html">
							View<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.View.Cell.html">
							Cell						</a>
							</li>
					<li>
						<a href="namespace-App.View.Helper.html">
							Helper<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.View.Helper.Traits.html">
							Traits						</a>
							</li>
								</ul></li></ul></li></ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-App.Model.Lib.EditionStack.html">EditionStack</a></li>
				<li><a href="class-App.Model.Lib.IdentitySet.html">IdentitySet</a></li>
				<li><a href="class-App.Model.Lib.IdentitySetBase.html">IdentitySetBase</a></li>
				<li><a href="class-App.Model.Lib.IdentitySets.html">IdentitySets</a></li>
				<li><a href="class-App.Model.Lib.Providers.html">Providers</a></li>
				<li><a href="class-App.Model.Lib.StackSet.html">StackSet</a></li>
			</ul>


			<h3>Traits</h3>
			<ul>
				<li class="active"><a href="class-App.Model.Lib.ArtistIdConditionTrait.html">ArtistIdConditionTrait</a></li>
			</ul>



		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Trait ArtistIdConditionTrait</h1>


	<div class="description">
	<p>ArtistIdConditionTrait</p>

<p>A method to insure the artist_id is included in the query. This
will prevent bleed through of one user's data into another even if
some crazy hack or error calls for record IDs that would otherwise
cause the records to be exposed.Since IDs are exposed in the URL, this is critical.</p>

<p>Since IDs are exposed in the URL, this is critical.</p>

<p>Suggested use; call from inside the Tables beforeFind() event.</p>

<pre><span class="php-keyword1">public</span> <span class="php-keyword1">function</span> beforeFind(<span class="php-var">$event</span>, <span class="php-var">$query</span>, <span class="php-var">$options</span>, <span class="php-var">$primary</span>) {
    <span class="php-var">$this</span>-&gt;includeArtistIdCondition(<span class="php-var">$query</span>);
}</pre>

<p>Also includes a property to insure the process is only done once.</p>
	</div>







	<div>
		<h3>Direct Known Users</h3>
		<p class="elementList">
			<code><a href="class-App.Model.Table.ArtworksTable.html">App\Model\Table\ArtworksTable</a></code>, 
			<code><a href="class-App.Model.Table.DispositionsTable.html">App\Model\Table\DispositionsTable</a></code>, 
			<code><a href="class-App.Model.Table.FormatsTable.html">App\Model\Table\FormatsTable</a></code>, 
			<code><a href="class-App.Model.Table.PiecesTable.html">App\Model\Table\PiecesTable</a></code>
		</p>
	</div>


	<div class="alert alert-info">
		
		
		<b>Namespace:</b> <a href="namespace-App.html">App</a>\<a href="namespace-App.Model.html">Model</a>\<a href="namespace-App.Model.Lib.html">Lib</a><br>
		

				<b>Author:</b>
				dondrake<br>
			<b>Located at</b> <a href="source-class-App.Model.Lib.ArtistIdConditionTrait.html#5-72" title="Go to source code">Model/Lib/ArtistIdConditionTrait.php</a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="includeArtistIdCondition" id="_includeArtistIdCondition">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_includeArtistIdCondition">#</a>
			<code><a href="source-class-App.Model.Lib.ArtistIdConditionTrait.html#37-57" title="Go to source code">includeArtistIdCondition</a>( <span>Query <var>$query</var></span> )</code>

			<div class="description short">
				<p>Insure the query conditions include artist_id(s) checks</p>
			</div>

			<div class="description detailed hidden">
				<p>Insure the query conditions include artist_id(s) checks</p>

<p>Only do this once for each query object</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$query</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="addArtistIdCondition" id="_addArtistIdCondition">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_addArtistIdCondition">#</a>
			<code><a href="source-class-App.Model.Lib.ArtistIdConditionTrait.html#59-71" title="Go to source code">addArtistIdCondition</a>( <span>Query <var>$query</var></span>, <span>integer|array <var>$id</var></span> )</code>

			<div class="description short">
				<p>Actually add the where statement for user_id = artist_id</p>
			</div>

			<div class="description detailed hidden">
				<p>Actually add the where statement for user_id = artist_id</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$query</var></dt>
						<dd></dd>
						<dt><var>$id</var></dt>
						<dd>Artist managers might have an array of IDs</dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
			</table>
		</div>











		<div class="panel panel-default">
            <div class="panel-heading"><h2>Properties summary</h2></div>
			<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="_where_artist_id" id="$_where_artist_id">
			<td class="attributes"><code>
				protected  
				boolean
			</code></td>

			<td class="name">
					<a href="source-class-App.Model.Lib.ArtistIdConditionTrait.html#28-35" title="Go to source code"><var>$_where_artist_id</var></a>

				<div class="description short">
					<p>Track whether the artist_id has been added to the query where clause</p>
				</div>

				<div class="description detailed hidden">
					<p>Track whether the artist_id has been added to the query where clause</p>

<p>Avoid adding the statement multiple times.
This will be an SplObjectStorage object. Testing with ->contains($query)
yields a boolean to indicate done (TRUE), not done (FALSE).</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$_where_artist_id" class="anchor">#</a>
					<code><span class="php-keyword1">FALSE</span></code>
				</div>
			</td>
		</tr>
			</table>
		</div>






</div>
	</div>

	<div id="footer">
		StudioManagerScratch API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
