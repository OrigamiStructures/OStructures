<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class App\Model\Behavior\DateQueryBehavior | StudioManagerScratch</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?49f43d3208c5d7e33fa16d36107a345bf11cc00d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">StudioManagerScratch</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
						<a href="namespace-App.Model.Behavior.html" title="Summary of App\Model\Behavior"><span>Namespace</span></a>
					</li>
					<li class="active">
<span>Class</span>					</li>

					<li class="divider-vertical"></li>


						<li>
							<a href="annotation-group-todo.html" title="List of elements with todo annotation">
								<span>Todo</span>
							</a>
						</li>


				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li class="active">
						<a href="namespace-App.html">
							App<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Cache.html">
							Cache						</a>
							</li>
					<li>
						<a href="namespace-App.Console.html">
							Console						</a>
							</li>
					<li>
						<a href="namespace-App.Controller.html">
							Controller<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Controller.Component.html">
							Component						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Database.html">
							Database<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Database.Type.html">
							Type						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Exception.html">
							Exception						</a>
							</li>
					<li>
						<a href="namespace-App.Form.html">
							Form						</a>
							</li>
					<li>
						<a href="namespace-App.Lib.html">
							Lib<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Lib.Traits.html">
							Traits						</a>
							</li>
								</ul></li>
					<li class="active">
						<a href="namespace-App.Model.html">
							Model<span></span>
						</a>
							<ul>
					<li class="active">
						<a href="namespace-App.Model.Behavior.html">
							Behavior						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Entity.html">
							Entity<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Model.Entity.EditionSubs.html">
							EditionSubs						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Entity.Traits.html">
							Traits						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Model.Lib.html">
							Lib						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Table.html">
							Table						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Shell.html">
							Shell						</a>
							</li>
					<li>
						<a href="namespace-App.SiteMetrics.html">
							SiteMetrics						</a>
							</li>
					<li>
						<a href="namespace-App.View.html">
							View<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.View.Cell.html">
							Cell						</a>
							</li>
					<li>
						<a href="namespace-App.View.Helper.html">
							Helper<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.View.Helper.Traits.html">
							Traits						</a>
							</li>
								</ul></li></ul></li></ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-App.Model.Behavior.ArtworkStackBehavior.html">ArtworkStackBehavior</a></li>
				<li class="active"><a href="class-App.Model.Behavior.DateQueryBehavior.html">DateQueryBehavior</a></li>
				<li><a href="class-App.Model.Behavior.deleteImage.html">deleteImage</a></li>
				<li><a href="class-App.Model.Behavior.FamilyBehavior.html">FamilyBehavior</a></li>
				<li><a href="class-App.Model.Behavior.IntegerQueryBehavior.html">IntegerQueryBehavior</a></li>
				<li><a href="class-App.Model.Behavior.StringQueryBehavior.html">StringQueryBehavior</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class DateQueryBehavior</h1>


	<div class="description">
	<p>DateQuery Behavior</p>

<p>Configure this behavior to create a set of custom finder methods that operate
on a single 'date' field in a table. Two configuration values are required:</p>

<pre><span class="php-var">$config</span>[<span class="php-quote">'field'</span>] contains the name of the table column
<span class="php-var">$config</span>[<span class="php-quote">'model'</span>] contains the name of the table <span class="php-keyword1">class</span></pre>

<p>There are two additional values that may be provided. These are the names
of the form inputs that will carry the WHERE arguemnents.</p>

<pre><span class="php-var">$config</span>[<span class="php-quote">'primary_input'</span>] provides the name of the imput with a value <span class="php-keyword1">for</span>
    find_Before(), find_Is(), <span class="php-keyword1">and</span> find_After()
<span class="php-var">$config</span>[<span class="php-quote">'secondary_input'</span>] names the input with the second value
    <span class="php-keyword1">for</span> find_Between()</pre>

<p>All the custom finder method names will be modified to include an
inflected version of the field name. For example the behavior configured
with 'field' => 'start_date' will provide the finder methods
<code>findStartDateBefore()</code>, <code>findStartDateIs()</code>, <code>findStartDateAfter()</code>, and
<code>findStartDateBetween()</code>. This allows multiple versions of the behavior
in a single Table, each copy operating on a different 'date' column.</p>

<p>When configuring multiple copies of this behavior you must load each
with a different name:</p>

<pre><span class="php-var">$this</span>-&gt;addBehavior(<span class="php-quote">'StartDateQuery'</span>, [
        <span class="php-quote">'className'</span> =&gt; <span class="php-quote">'DateQuery'</span>,
        <span class="php-quote">'field'</span> =&gt; <span class="php-quote">'start_date'</span>,
        <span class="php-quote">'model'</span> =&gt; <span class="php-var">$this</span>-&gt;alias()]);
    <span class="php-var">$this</span>-&gt;addBehavior(<span class="php-quote">'EndDateQuery'</span>, [
        <span class="php-quote">'className'</span> =&gt; <span class="php-quote">'DateQuery'</span>,
        <span class="php-quote">'field'</span> =&gt; <span class="php-quote">'end_date'</span>,
        <span class="php-quote">'model'</span> =&gt; <span class="php-var">$this</span>-&gt;alias(),
        <span class="php-quote">'primary_input'</span> =&gt; <span class="php-quote">'end_date'</span>,]);</pre>

<p>BE CAREFUL in tables with more than one 'date' column. Each column's
associated behavior config will need its own inputs if you want to
combine finders from different instantiations. Sharing names means sharing
values and that's probably not the what you want!</p>

<p>And, as with all behaviors, you can reconfigure on the fly:</p>

<pre><span class="php-comment">// in something like a controller</span>
    <span class="php-var">$this</span>-&gt;Users-&gt;behaviors()-&gt;get(<span class="php-quote">'RegDateQuery'</span>)
        -&gt;config(<span class="php-quote">'primary_input'</span>, <span class="php-quote">'first_day'</span>);
    <span class="php-keyword1">return</span> <span class="php-var">$query</span>-&gt;find(<span class="php-quote">'RegDateAfter'</span>, <span class="php-var">$options</span>);
    <span class="php-comment">// the value at $options['first_day'] would be used</span></pre>
	</div>

	<dl class="tree well">
		<dd style="padding-left:0px">
Cake\ORM\Behavior
			
			
		</dd>
		<dd style="padding-left:30px">
			<img src="resources/inherit.png" alt="Extended by">
<b><span>App\Model\Behavior\DateQueryBehavior</span></b>			
			
			
		</dd>
	</dl>








	<div class="alert alert-info">
		
		
		<b>Namespace:</b> <a href="namespace-App.html">App</a>\<a href="namespace-App.Model.html">Model</a>\<a href="namespace-App.Model.Behavior.html">Behavior</a><br>
		

				<b>Author:</b>
				dondrake<br>
				<b>Todo:</b>
				<p>Make this do NOT and OR queries? Is it better to do this with options,
    or with separate calls? Managing options could be very difficult
    because the contents of the array are invisible. Different
    method names would be nice and explicit. I don't know enough about
    these more advanced queries to even stub in methods at this point.</p><br>
			<b>Located at</b> <a href="source-class-App.Model.Behavior.DateQueryBehavior.html#9-170" title="Go to source code">Model/Behavior/DateQueryBehavior.php</a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="__construct" id="___construct">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___construct">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#79-94" title="Go to source code">__construct</a>( <span>Table <var>$table</var></span>, <span>array <var>$config</var> = []</span> )</code>

			<div class="description short">
				<p>Construct</p>
			</div>

			<div class="description detailed hidden">
				<p>Construct</p>

<p>Alias all the custom finder method names to include an inflected version
of the field name. This prevents method-name collisions when multiple
date fields are being served in one table.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$table</var></dt>
						<dd></dd>
						<dt><var>$config</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="__get" id="___get">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___get">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#96-112" title="Go to source code">__get</a>( <span>string <var>$name</var></span> )</code>

			<div class="description short">
				<p>Give public read-only access to the properties</p>
			</div>

			<div class="description detailed hidden">
				<p>Give public read-only access to the properties</p>

<p>Because there can be more than one instantiation of DateQueryBehavior
and method name collisions are prevented, we can't have any accessor
methods unless we alias them (like the custom finders. Using magic-get
seems adequate. Values can be changed with the objects ->config() method.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$name</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="_setDateParameter" id="__setDateParameter">

			<td class="attributes"><code>
				 protected 
				Cake\I18n\Time
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#__setDateParameter">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#114-132" title="Go to source code">_setDateParameter</a>( <span>string <var>$date</var></span> )</code>

			<div class="description short">
				<p>Standardize and sanitize user date input</p>
			</div>

			<div class="description detailed hidden">
				<p>Standardize and sanitize user date input</p>

<p>Date data will often come directly form a user input form. Turning
this input into a Time object lets us absorb a wide variety of date
input and should neutralize any malicious or damaging input.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$date</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						Cake\I18n\Time
					</div>


					<h4>Todo</h4>
					<div class="list">
							<p>Make a better Exception result. But proper
    form validation should prevent most bad input.</p><br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="_columnIdententifier" id="__columnIdententifier">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#__columnIdententifier">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#134-136" title="Go to source code">_columnIdententifier</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="find_Is" id="_find_Is">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_find_Is">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#138-141" title="Go to source code">find_Is</a>( <span>Cake\ORM\Query <var>$query</var></span>, <span> <var>$options</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="find_Before" id="_find_Before">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_find_Before">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#143-146" title="Go to source code">find_Before</a>( <span>Cake\ORM\Query <var>$query</var></span>, <span> <var>$options</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="find_After" id="_find_After">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_find_After">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#148-151" title="Go to source code">find_After</a>( <span>Cake\ORM\Query <var>$query</var></span>, <span> <var>$options</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="find_Between" id="_find_Between">

			<td class="attributes"><code>
				 public 
				type
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_find_Between">#</a>
			<code><a href="source-class-App.Model.Behavior.DateQueryBehavior.html#153-168" title="Go to source code">find_Between</a>( <span>Cake\ORM\Query <var>$query</var></span>, <span>type <var>$options</var></span> )</code>

			<div class="description short">
				<p>Find dates between two dates (inclusive)</p>
			</div>

			<div class="description detailed hidden">
				<p>Find dates between two dates (inclusive)</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$query</var></dt>
						<dd></dd>
						<dt><var>$options</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						type
					</div>




			</div>
			</div></td>
		</tr>
			</table>
		</div>











		<div class="panel panel-default">
            <div class="panel-heading"><h2>Properties summary</h2></div>
			<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="_defaultConfig" id="$_defaultConfig">
			<td class="attributes"><code>
				protected  
				array
			</code></td>

			<td class="name">
					<a href="source-class-App.Model.Behavior.DateQueryBehavior.html#72-77" title="Go to source code"><var>$_defaultConfig</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$_defaultConfig" class="anchor">#</a>
					<code>[
    <span class="php-quote">'implementedMethods'</span> =&gt; [],
    <span class="php-quote">'implementedFinders'</span> =&gt; [],
    <span class="php-quote">'primary_input'</span> =&gt; <span class="php-quote">'start_date'</span>,
    <span class="php-quote">'secondary_input'</span> =&gt; <span class="php-quote">'end_date'</span>
    ]</code>
				</div>
			</td>
		</tr>
			</table>
		</div>






</div>
	</div>

	<div id="footer">
		StudioManagerScratch API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
