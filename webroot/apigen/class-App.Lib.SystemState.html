<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class App\Lib\SystemState | StudioManagerScratch</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?49f43d3208c5d7e33fa16d36107a345bf11cc00d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">StudioManagerScratch</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
						<a href="namespace-App.Lib.html" title="Summary of App\Lib"><span>Namespace</span></a>
					</li>
					<li class="active">
<span>Class</span>					</li>

					<li class="divider-vertical"></li>


						<li>
							<a href="annotation-group-todo.html" title="List of elements with todo annotation">
								<span>Todo</span>
							</a>
						</li>


				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li class="active">
						<a href="namespace-App.html">
							App<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Cache.html">
							Cache						</a>
							</li>
					<li>
						<a href="namespace-App.Console.html">
							Console						</a>
							</li>
					<li>
						<a href="namespace-App.Controller.html">
							Controller<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Controller.Component.html">
							Component						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Database.html">
							Database<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Database.Type.html">
							Type						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Exception.html">
							Exception						</a>
							</li>
					<li>
						<a href="namespace-App.Form.html">
							Form						</a>
							</li>
					<li class="active">
						<a href="namespace-App.Lib.html">
							Lib<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Lib.Traits.html">
							Traits						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Model.html">
							Model<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Model.Behavior.html">
							Behavior						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Entity.html">
							Entity<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.Model.Entity.EditionSubs.html">
							EditionSubs						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Entity.Traits.html">
							Traits						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Model.Lib.html">
							Lib						</a>
							</li>
					<li>
						<a href="namespace-App.Model.Table.html">
							Table						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-App.Shell.html">
							Shell						</a>
							</li>
					<li>
						<a href="namespace-App.SiteMetrics.html">
							SiteMetrics						</a>
							</li>
					<li>
						<a href="namespace-App.View.html">
							View<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.View.Cell.html">
							Cell						</a>
							</li>
					<li>
						<a href="namespace-App.View.Helper.html">
							Helper<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-App.View.Helper.Traits.html">
							Traits						</a>
							</li>
								</ul></li></ul></li></ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-App.Lib.DispositionFilter.html">DispositionFilter</a></li>
				<li><a href="class-App.Lib.EditionHelperFactory.html">EditionHelperFactory</a></li>
				<li><a href="class-App.Lib.EditionTypeMap.html">EditionTypeMap</a></li>
				<li><a href="class-App.Lib.Layer.html">Layer</a></li>
				<li><a href="class-App.Lib.PieceFilter.html">PieceFilter</a></li>
				<li><a href="class-App.Lib.Range.html">Range</a></li>
				<li><a href="class-App.Lib.RenumberMessaging.html">RenumberMessaging</a></li>
				<li><a href="class-App.Lib.RenumberRequest.html">RenumberRequest</a></li>
				<li><a href="class-App.Lib.RenumberRequestHeap.html">RenumberRequestHeap</a></li>
				<li><a href="class-App.Lib.RenumberRequests.html">RenumberRequests</a></li>
				<li><a href="class-App.Lib.StateMap.html">StateMap</a></li>
				<li class="active"><a href="class-App.Lib.SystemState.html">SystemState</a></li>
				<li><a href="class-App.Lib.Wildcard.html">Wildcard</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class SystemState</h1>


	<div class="description">
	<p>SystemState</p>

<p>This class was designed to be available in all places at all times
in order to make some commonly needed methods (like artistId()) easily
accessible. Also, it overrides Cakes viewVars system which was designed
to carry variables from the Controllers into the View layer. This class
is composed into all standard Cake classes and makes the viewVars
available all over the place.</p>

<p>Besides these basic goals, the class was created with the belief that
the application would use the State design pattern (“Allow an object to alter
its behavior when its internal state changes. The object will appear to
change its class.”). I missunderstood both this application and the
use of the design pattern... so...</p>
	</div>

	<dl class="tree well">
		<dd style="padding-left:0px">
<b><span>App\Lib\SystemState</span></b>			
			 implements 
<span>Cake\Event\EventListenerInterface</span>
			
			
		</dd>
	</dl>








	<div class="alert alert-info">
		
		
		<b>Namespace:</b> <a href="namespace-App.html">App</a>\<a href="namespace-App.Lib.html">Lib</a><br>
		

				<b>Author:</b>
				dondrake<br>
				<b>Todo:</b>
				<p>There are some static methods that organize things like Edition types
    and Disposition types. These methods could be in a separate class
    with all static methods instead of this mixed bag.</p><br>
				<b>Todo:</b>
				<p>Carrying viewVars around like this breaks encapsulation and
    promotes coupling. Not a great idea in retrospect.</p><br>
			<b>Located at</b> <a href="source-class-App.Lib.SystemState.html#18-488" title="Go to source code">Lib/SystemState.php</a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="__construct" id="___construct">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___construct">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#90-99" title="Go to source code">__construct</a>( <span>Cake\Network\Request <var>$request</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="implementedEvents" id="_implementedEvents">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_implementedEvents">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#101-106" title="Go to source code">implementedEvents</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="collectedDispositionTypes" id="_collectedDispositionTypes">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_collectedDispositionTypes">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#108-113" title="Go to source code">collectedDispositionTypes</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="scrappedDispositionTypes" id="_scrappedDispositionTypes">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_scrappedDispositionTypes">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#114-117" title="Go to source code">scrappedDispositionTypes</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="unavailableDispositionTypes" id="_unavailableDispositionTypes">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_unavailableDispositionTypes">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#119-121" title="Go to source code">unavailableDispositionTypes</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="__get" id="___get">

			<td class="attributes"><code>
				 public 
				mixed
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#___get">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#123-134" title="Go to source code">__get</a>( <span>string <var>$name</var></span> )</code>

			<div class="description short">
				<p>Make stored viewVars available</p>
			</div>

			<div class="description detailed hidden">
				<p>Make stored viewVars available</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$name</var></dt>
						<dd>a valid Hash path</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						mixed
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="_standingDisposition" id="__standingDisposition">

			<td class="attributes"><code>
				 protected 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#__standingDisposition">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#136-148" title="Go to source code">_standingDisposition</a>( )</code>

			<div class="description short">
				<p>See if there is a disposition cached</p>
			</div>

			<div class="description detailed hidden">
				<p>See if there is a disposition cached</p>

<p>Standing Dispositions may exist by may not have been put into viewVars.
So in this special case, when there value is requested we'll pull it
from the cache so it will be available.</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="is" id="_is">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_is">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#150-158" title="Go to source code">is</a>( <span>integer <var>$state</var></span> )</code>

			<div class="description short">
				<p>Is the System State current this $state?</p>
			</div>

			<div class="description detailed hidden">
				<p>Is the System State current this $state?</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$state</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="now" id="_now">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_now">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#160-162" title="Go to source code">now</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="changeState" id="_changeState">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_changeState">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#164-174" title="Go to source code">changeState</a>( <span>integer <var>$state</var></span> )</code>

			<div class="description short">
				<p>Set the system state</p>
			</div>

			<div class="description detailed hidden">
				<p>Set the system state</p>

<p>THIS SHOULD SEND A STATECHANGE EVENT</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$state</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="storeVars" id="_storeVars">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_storeVars">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#176-189" title="Go to source code">storeVars</a>( <span>array <var>$variables</var></span> )</code>

			<div class="description short">
				<p>Store the current passes viewVars</p>
			</div>

			<div class="description detailed hidden">
				<p>Store the current passes viewVars</p>

<p>Controller and View override the normal ViewVars::set to also sent the
full set of variable here. This makes them available more universally
(for example, in Tables). Cell and Email classes don't have overrides
written yet so they don't keep this class up to date.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$variables</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="artistId" id="_artistId">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_artistId">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#191-230" title="Go to source code">artistId</a>( <span> <var>$id</var> = <span class="php-keyword1">NULL</span></span> )</code>

			<div class="description short">
				<p>Get the logged in artist's ID or the ID of the artist we're mocking</p>
			</div>

			<div class="description detailed hidden">
				<p>Get the logged in artist's ID or the ID of the artist we're mocking</p>

<p>Admins (and possibly gallery owners in a later phase) will be able to
'act as' an artist rather than only seeing thier own artworks.</p>

<p>CODE IMPROVEMENTS =========================== CODE IMPROVEMENTS
Auth.User.artists [ 'user' => xxx, 'yyyy' => xxx,
]
would allow both variations to be found in the same way.
'yyyy' could be some random string or a name. id's always hidden at 'xxx'</p>



					<h4>Returns</h4>
					<div class="list">
						string
					</div>


					<h4>Ticket</h4>
					<div class="list">
							https://github.com/OrigamiStructures/StudioManagerScratch/issues/66<br>
							https://github.com/OrigamiStructures/StudioManagerScratch/issues/111<br>
							https://github.com/OrigamiStructures/StudioManagerScratch/issues/120<br>
					</div>


			</div>
			</div></td>
		</tr>
		<tr data-order="userId" id="_userId">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_userId">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#232-234" title="Go to source code">userId</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="afterLogin" id="_afterLogin">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_afterLogin">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#236-245" title="Go to source code">afterLogin</a>( <span>type <var>$event</var></span> )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$event</var></dt>
						<dd></dd>
					</dl></div>





			</div>
			</div></td>
		</tr>
		<tr data-order="admin" id="_admin">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_admin">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#247-266" title="Go to source code">admin</a>( <span>string <var>$type</var> = <span class="php-keyword1">NULL</span></span> )</code>

			<div class="description short">
				<p>Determine the degree (if any) of admin access</p>
			</div>

			<div class="description detailed hidden">
				<p>Determine the degree (if any) of admin access</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$type</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="urlArgIsKnown" id="_urlArgIsKnown">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_urlArgIsKnown">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#268-278" title="Go to source code">urlArgIsKnown</a>( <span>string <var>$name</var></span> )</code>

			<div class="description short">
				<p>Is the value one of the URL query arguements?</p>
			</div>

			<div class="description detailed hidden">
				<p>Is the value one of the URL query arguements?</p>

<p>These are the variables after the '?' in a URL</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$name</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="hasFocus" id="_hasFocus">

			<td class="attributes"><code>
				 public 
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_hasFocus">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#280-303" title="Go to source code">hasFocus</a>( <span>entity|string <var>$name</var></span>, <span>string <var>$value</var> = <span class="php-keyword1">NULL</span></span> )</code>

			<div class="description short">
				<p>Is an ID'd record referenced in the URL arguments?</p>
			</div>

			<div class="description detailed hidden">
				<p>Is an ID'd record referenced in the URL arguments?</p>

<p>SystemState::hasFocus('artwork', 641)
SystemState::hasFocus('member', 1215)
or
SystemState::hasFocus($artwork) // Artwork entity
SystemState::hasFocus($format) // Format entity</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$name</var></dt>
						<dd></dd>
						<dt><var>$value</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="stripNamespace" id="_stripNamespace">

			<td class="attributes"><code>
				 public static
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_stripNamespace">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#305-314" title="Go to source code">stripNamespace</a>( <span>Object <var>$obj</var></span> )</code>

			<div class="description short">
				<p>Get the class name from a full namespaced name</p>
			</div>

			<div class="description detailed hidden">
				<p>Get the class name from a full namespaced name</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$obj</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						string
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="queryArg" id="_queryArg">

			<td class="attributes"><code>
				 public 
				string|array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_queryArg">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#316-330" title="Go to source code">queryArg</a>( <span>string <var>$name</var> = <span class="php-keyword1">NULL</span></span> )</code>

			<div class="description short">
				<p>Return one of the URL query arguements</p>
			</div>

			<div class="description detailed hidden">
				<p>Return one of the URL query arguements</p>

<p>If it doesn't exist, get array of all args</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$name</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						string|array
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="controller" id="_controller">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_controller">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#332-334" title="Go to source code">controller</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="action" id="_action">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_action">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#336-338" title="Go to source code">action</a>( )</code>

			<div class="description short">
				
			</div>

			<div class="description detailed hidden">
				







			</div>
			</div></td>
		</tr>
		<tr data-order="inventoryActions" id="_inventoryActions">

			<td class="attributes"><code>
				 public 
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_inventoryActions">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#340-392" title="Go to source code">inventoryActions</a>( )</code>

			<div class="description short">
				<p>Developer Utility to map controller actions</p>
			</div>

			<div class="description detailed hidden">
				<p>Developer Utility to map controller actions</p>

<p>Find all the public methods on all controllers and merge the array of
them with the current SystemState::map then dump this to the screen so
it can be copied back into the class. This allows full update of the
map with the current controller/action call points so they can also be
mapped (while avoiding a lot of hand work).</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="referer" id="_referer">

			<td class="attributes"><code>
				 public 
				string
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_referer">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#394-434" title="Go to source code">referer</a>( <span>string <var>$referer</var> = <span class="php-keyword1">NULL</span></span> )</code>

			<div class="description short">
				<p>Support logic-based referer to suppliment standard request->referer</p>
			</div>

			<div class="description detailed hidden">
				<p>Support logic-based referer to suppliment standard request->referer</p>

<p>In Controller->_beforeFilter() or a controller action, the
request->referer() can be examined for key values and
conditionally included or excluded in SystemState->referer (in Session).</p>

<p>This will allow us to ignore multiple page requests and
return to some originating page.</p>

<p>Calling with a url arguemnt will store that 'referer' and return it</p>

<p>Calling with no arguemnt:
will always return at least the current request->referer but
will preferentially return the url that was tucked away in Session</p>

<p>Call with (SYSTEM_VOID_REFERER) will return the request->referer
and dump the session stored url</p>

<p>Call with (SYSTEM_CONSUME_REFERER) will return the session
stored url and delete it also</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$referer</var></dt>
						<dd></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						string
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="buildConditions" id="_buildConditions">

			<td class="attributes"><code>
				 public 
				array
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_buildConditions">#</a>
			<code><a href="source-class-App.Lib.SystemState.html#436-487" title="Go to source code">buildConditions</a>( <span>array <var>$arg_list</var></span>, <span>boolean <var>$user_filter</var> = <span class="php-keyword1">TRUE</span></span> )</code>

			<div class="description short">
				<p>Build a conditions array from query args based on a provided list of arg names</p>
			</div>

			<div class="description detailed hidden">
				<p>Build a conditions array from query args based on a provided list of arg names</p>

<p>The provided list names the args to try to include. The conditions array will
include values for any entries that did exist.  If the column corresponding to
an argument is know by a name other than {$arg}_id, the the argument should
be an array key with a value equal to the column name you need.</p>

<pre><span class="php-var">$this</span>-&gt;SystemState-&gt;buildConditions([<span class="php-quote">'edition'</span> =&gt; <span class="php-quote">'id'</span>, <span class="php-quote">'artwork'</span>])
yeilds
[
<span class="php-quote">'id'</span> =&gt; <span class="php-quote">'2'</span>,
<span class="php-quote">'artwork_id'</span> =&gt; <span class="php-quote">'2'</span>,
<span class="php-quote">'user_id'</span> =&gt; <span class="php-quote">'f22f9b46-345f-4c6f-9637-060ceacb21b2'</span>
]

<span class="php-var">$this</span>-&gt;SystemState-&gt;buildConditions([<span class="php-quote">'format'</span> =&gt; <span class="php-quote">'Formats.id'</span>], <span class="php-quote">'Formats'</span>)
yeilds
[
<span class="php-quote">'Formats.id'</span> =&gt; <span class="php-quote">'2'</span>,
<span class="php-quote">'Formats.user_id'</span> =&gt; <span class="php-quote">'f22f9b46-345f-4c6f-9637-060ceacb21b2'</span>
]</pre>

<p>By default, the user_id value will also be returned in the conditions.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$arg_list</var></dt>
						<dd></dd>
						<dt><var>$user_filter</var></dt>
						<dd>Should the user_id be added to the condition?</dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						array
					</div>




			</div>
			</div></td>
		</tr>
			</table>
		</div>











		<div class="panel panel-default">
            <div class="panel-heading"><h2>Properties summary</h2></div>
			<table class="summary table table-bordered table-striped properties" id="properties">
		<tr data-order="map" id="$map">
			<td class="attributes"><code>
				protected  
				array
			</code></td>

			<td class="name">
					<a href="source-class-App.Lib.SystemState.html#44-51" title="Go to source code"><var>$map</var></a>

				<div class="description short">
					<p>Controller/action => state map</p>
				</div>

				<div class="description detailed hidden">
					<p>Controller/action => state map</p>

<p>To establish a default state for every callable action</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$map" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="request" id="$request">
			<td class="attributes"><code>
				public  
				Cake\Network\Request
			</code></td>

			<td class="name">
					<a href="source-class-App.Lib.SystemState.html#53-58" title="Go to source code"><var>$request</var></a>

				<div class="description short">
					<p>Cake Request object</p>
				</div>

				<div class="description detailed hidden">
					<p>Cake Request object</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$request" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="rq" id="$rq">
			<td class="attributes"><code>
				public static 
				
			</code></td>

			<td class="name">
					<a href="source-class-App.Lib.SystemState.html#59" title="Go to source code"><var>$rq</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$rq" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="_current_state" id="$_current_state">
			<td class="attributes"><code>
				protected  
				integer
			</code></td>

			<td class="name">
					<a href="source-class-App.Lib.SystemState.html#62-67" title="Go to source code"><var>$_current_state</var></a>

				<div class="description short">
					<p>The current system state</p>
				</div>

				<div class="description detailed hidden">
					<p>The current system state</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$_current_state" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="_viewVars" id="$_viewVars">
			<td class="attributes"><code>
				protected  
				array
			</code></td>

			<td class="name">
					<a href="source-class-App.Lib.SystemState.html#69-74" title="Go to source code"><var>$_viewVars</var></a>

				<div class="description short">
					<p>A local, independent copy of every variable registered for use on the View</p>
				</div>

				<div class="description detailed hidden">
					<p>A local, independent copy of every variable registered for use on the View</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$_viewVars" class="anchor">#</a>
					<code></code>
				</div>
			</td>
		</tr>
		<tr data-order="_standing_disposition" id="$_standing_disposition">
			<td class="attributes"><code>
				protected  
				boolean
			</code></td>

			<td class="name">
					<a href="source-class-App.Lib.SystemState.html#76" title="Go to source code"><var>$_standing_disposition</var></a>

				<div class="description short">
					
				</div>

				<div class="description detailed hidden">
					

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$_standing_disposition" class="anchor">#</a>
					<code><span class="php-keyword1">FALSE</span></code>
				</div>
			</td>
		</tr>
		<tr data-order="_admin_roles" id="$_admin_roles">
			<td class="attributes"><code>
				protected  
				array
			</code></td>

			<td class="name">
					<a href="source-class-App.Lib.SystemState.html#79-88" title="Go to source code"><var>$_admin_roles</var></a>

				<div class="description short">
					<p>Array of types of 'admin' access</p>
				</div>

				<div class="description detailed hidden">
					<p>Array of types of 'admin' access</p>

<p>Methods that test for a kind of admin access need to insure only
valid admin roles are considered for testing. If the value in question
is not in this array, just ignore it altogether. (see $this->admin() )</p>

				</div>
			</td>
			<td class="value">
				<div>
					<a href="#$_admin_roles" class="anchor">#</a>
					<code>[ADMIN_SYSTEM, ADMIN_ARTIST]</code>
				</div>
			</td>
		</tr>
			</table>
		</div>






</div>
	</div>

	<div id="footer">
		StudioManagerScratch API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
